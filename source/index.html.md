---
title: Popdock REST API Documentation

language_tabs: # must be one of https://git.io/vQNgJ
  - shell
  - python

toc_footers:
  - <a href='https://login.popdock.com/NewAccount'>Sign Up for a Popdock Trial</a>
  - <a href='https://github.com/slatedocs/slate'>Documentation Powered by Slate</a>

includes:
  - errors

search: true

code_clipboard: true
---

# Introduction

Welcome to the API API! The API can be used to remotely pull data from your Popodock Lists. Some of the core functions are:

* Retrieve lists of available connectors, lists, and favorites
* Query data from the list's data endpoints

## Requirements

To use this version of the REST API you will need the following:

* An active SaaS subscription for Popdock
* A valid user login to Popdock

## Getting Started

Connecting to the API will require the following information.

The Popdock API is locked by region, ensure the correct base url is used

Region | App Url | API Url
--------- | ------- | -----------
North America | data.popdock.com | api.popdock.com
Europe | data-weu.popdock.com | api-weu.popdock.com


# Authentication

The Popdock API uses user tokens for authentication. 

[User Token](https://imgur.com/oceuVEd)

<aside class="notice">
Tokens are user specific, they are the security equivalent of a user accessing the data through the Popdock web client.
</aside>


# Map Information

The Map Information endpoints can be used to retrieve information about process setups.

## GetMapList

> To retrieve a list of processes, use this code:

```shell
curl POST "{{API Url}}/GetMapList?token={{Token}}" \
  -H 'Content-Type: application/x-www-form-urlencoded' \
  -H 'Accept: application/json' 
```

```python
import requests

url = "{{API Url}}/GetMapList?token={{Token}}"
headers = {
  'Content-Type': 'application/x-www-form-urlencoded',
  'Accept': 'application/json'
}

response = requests.request("POST", url, headers=headers)

print(response.text.encode('utf8'))
```

> The above command returns JSON structured like this:

```json
[
  {
    "MapKey": "c365b728-60e0-4841-841c-ab73008dd41d",
    "MapId": "Import Customers",
    "MapDescription": "Customers to BC"
  },
  {
    "MapKey": "1b763e98-37c4-4d32-8320-abb200d82e59",
    "MapId": "Import Sales Orders",
    "MapDescription": "Sales Orders to BC"
  }
]
```

This endpoint retrieves all processes that can be used by the SmartConnect API.

### HTTP Request

`POST {{API Url}}/GetMapList`

### Query Parameters

Parameter | Required | Description
--------- | ------- | -----------
token | true | Token generated by the GetToken endpoint

<aside class="notice">
Real-time data source maps will not show in this list.
</aside>

## GetMapColumns

> To retrieve a list of columns defined in a process, use this code:

```shell
curl POST "{{API Url}}/GetMapColumns?token={{Token}}&mapKey={{mapKey}}" \
  -H 'Content-Type: application/x-www-form-urlencoded' \
  -H 'Accept: application/json' 
```

```python
import requests

url = "{{API Url}}/GetMapColumns?token={{Token}}&mapKey={{mapKey}}"
headers = {
  'Content-Type': 'application/x-www-form-urlencoded',
  'Accept': 'application/json'
}

response = requests.request("POST", url, headers=headers)

print(response.text.encode('utf8'))
```

> The above command returns JSON structured like this:

```json
[
    {
        "ColumnName": "AccountNumber",
        "IsRequired": true
    },
    {
        "ColumnName": "AccountName",
        "IsRequired": false
    },
    {
        "ColumnName": "Phone",
        "IsRequired": false
    }
]
```

This endpoint retrieves all columns defined in the data source of the process.

### HTTP Request

`POST {{API Url}}/GetMapColumns`

### Query Parameters

Parameter | Required | Description
--------- | ------- | -----------
token | true | Token generated by the GetToken endpoint
mapKey | true | Unique identifier for the process to retrieve

## GetMappedMapColumns

> To retrieve a list of columns mapped in the destination, use this code:

```shell
curl POST "{{API Url}}/GetMappedMapColumns?token={{Token}}&mapKey={{mapKey}}" \
  -H 'Content-Type: application/x-www-form-urlencoded' \
  -H 'Accept: application/json' 
```

```python
import requests

url = "{{API Url}}/GetMappedMapColumns?token={{Token}}&mapKey={{mapKey}}"
headers = {
  'Content-Type': 'application/x-www-form-urlencoded',
  'Accept': 'application/json'
}

response = requests.request("POST", url, headers=headers)

print(response.text.encode('utf8'))
```

> The above command returns JSON structured like this:

```json
[
    {
        "ColumnName": "AccountNumber",
        "IsRequired": true
    },
    {
        "ColumnName": "AccountName",
        "IsRequired": false
    },
    {
        "ColumnName": "Phone",
        "IsRequired": false
    }
]
```

This endpoint retrieves all columns defined in the data source of the process.

### HTTP Request

`POST {{API Url}}/GetMappedMapColumns`

### Query Parameters

Parameter | Required | Description
--------- | ------- | -----------
token | true | Token generated by the GetToken endpoint
mapKey | true | Unique identifier for the process to retrieve

# Map Data

The Map Data endpoints can be used to retrieve data from the data source defined in SmartConnect. If the data source is a query, a call will be made by SmartConnect to the source application for live data.

<aside class="warning">You will not be able to get data from real-time data source maps.</aside>

## GetAllData

> To retrieve currently defined source data, use this code:

```shell
curl POST "{{API Url}}/GetAllData?token={{Token}}&mapKey={{mapKey}}" \
  -H 'Content-Type: application/x-www-form-urlencoded' \
  -H 'Accept: application/xml' 
```

```python
import requests

url = "{{API Url}}/GetAllData?token={{Token}}&mapKey={{mapKey}}"
headers = {
  'Content-Type': 'application/x-www-form-urlencoded',
  'Accept': 'application/xml'
}

response = requests.request("POST", url, headers=headers)

print(response.text.encode('utf8'))
```

> The above command returns XML structured like this:

```xml
<string xmlns="http://schemas.microsoft.com/2003/10/Serialization/">&lt;MyDataSet&gt;&#xD;
  &lt;Table01&gt;&#xD;
    &lt;AccountNumber&gt;&lt;![CDATA[CUST001]]&gt;&lt;/AccountNumber&gt;&#xD;
    &lt;AccountName&gt;&lt;![CDATA[Purus Limited]]&gt;&lt;/AccountName&gt;&#xD;
    &lt;AddressCode&gt;&lt;![CDATA[Other]]&gt;&lt;/AddressCode&gt;&#xD;
    &lt;Address1&gt;&lt;![CDATA[373-1399 Ultrices St.]]&gt;&lt;/Address1&gt;&#xD;
    &lt;City&gt;&lt;![CDATA[Denver]]&gt;&lt;/City&gt;&#xD;
    &lt;State&gt;&lt;![CDATA[CO]]&gt;&lt;/State&gt;&#xD;
    &lt;ZIP&gt;&lt;![CDATA[92336]]&gt;&lt;/ZIP&gt;&#xD;
    &lt;Phone&gt;&lt;![CDATA[(303) 654-2228]]&gt;&lt;/Phone&gt;&#xD;
    &lt;Currency&gt;&lt;![CDATA[CAD$]]&gt;&lt;/Currency&gt;&#xD;
  &lt;/Table01&gt;&#xD;
&lt;/MyDataSet&gt;</string>
```

This endpoint retrieves the current defined source for the specified process.

### HTTP Request

`POST {{API Url}}/GetAllData`

### Query Parameters

Parameter | Required | Description
--------- | ------- | -----------
token | true | Token generated by the GetToken endpoint
mapKey | true | Unique identifier for the process to retrieve


<aside class="warning">Currently this endpoint only returns data as XML</aside>

## GetAllDataWithVariables

> To retrieve currently defined source with Global Variable filters, use this code:

```shell
curl POST "{{API Url}}/GetAllDataWithVariables?token={{Token}}&mapKey={{mapKey}}" \
  -H 'Content-Type: application/json' \
  -H 'Accept: application/xml' \
  -d '[
        {
          "Key": "GBL_TEST",
          "Value": "107210"
         },
       {
          "Key": "GBL_TEST2",
          "Value": "Sample"
        }
      ]'
```

```python
import requests

url = "{{API Url}}/GetAllDataWithVariables?token={{Token}}&mapKey={{mapKey}}"
headers = {
  'Content-Type': 'application/json',
  'Accept': 'application/xml'
}
payload = 
[
    {
        "Key": "GBL_TEST",
        "Value": "107210"
    },
    {
        "Key": "GBL_TEST2",
        "Value": "Sample"
    }
]

response = requests.request("POST", url, headers=headers, data = payload)

print(response.text.encode('utf8'))
```

> The above command returns XML structured like this:

```xml
<string xmlns="http://schemas.microsoft.com/2003/10/Serialization/">&lt;MyDataSet&gt;&#xD;
  &lt;Table01&gt;&#xD;
    &lt;AccountNumber&gt;&lt;![CDATA[CUST001]]&gt;&lt;/AccountNumber&gt;&#xD;
    &lt;AccountName&gt;&lt;![CDATA[Purus Limited]]&gt;&lt;/AccountName&gt;&#xD;
    &lt;AddressCode&gt;&lt;![CDATA[Other]]&gt;&lt;/AddressCode&gt;&#xD;
    &lt;Address1&gt;&lt;![CDATA[373-1399 Ultrices St.]]&gt;&lt;/Address1&gt;&#xD;
    &lt;City&gt;&lt;![CDATA[Denver]]&gt;&lt;/City&gt;&#xD;
    &lt;State&gt;&lt;![CDATA[CO]]&gt;&lt;/State&gt;&#xD;
    &lt;ZIP&gt;&lt;![CDATA[92336]]&gt;&lt;/ZIP&gt;&#xD;
    &lt;Phone&gt;&lt;![CDATA[(303) 654-2228]]&gt;&lt;/Phone&gt;&#xD;
    &lt;Currency&gt;&lt;![CDATA[CAD$]]&gt;&lt;/Currency&gt;&#xD;
  &lt;/Table01&gt;&#xD;
&lt;/MyDataSet&gt;</string>
```

This endpoint retrieves the current defined source for the specified process. If the data source is using Global Variables in the query, the values passed in the body will be applied as filters prior to retrieving the data.

### HTTP Request

`POST {{API Url}}/GetAllDataWithVariables`

### Query Parameters

Parameter | Required | Description
--------- | ------- | -----------
token | true | Token generated by the GetToken endpoint
mapKey | true | Unique identifier for the process to retrieve


<aside class="warning">Currently this endpoint only returns data as XML</aside>

# Map Runs

The Map Run endpoints can be used to run maps in SmartConnect. Upon completion of the map run in SmartConnect, the web service will respond with a status message.

## Run Map Properties

Attribute | Type | Description
--------- | ------- | -----------
ErrorCount | integer | Number of failed records
Errors | data-table | XMl data table, populated when a record fails
MapDescription | string | Map Description field for the process
MapKey | guid | Unique identifier for the process
MapId | string | Map Id field for the process
RecordCount | integer | Number of records processed in run
RunNumber | integer | Run number
Status | boolean | 0 = success, 1 = failure
ErrorMessage | string | Last Error Message from the run

## RunMap

> To run a specified process, use this code:

```shell
curl POST "{{API Url}}/runmap?token={{Token}}&mapKey={{mapKey}}" \
  -H 'Content-Type: application/x-www-form-urlencoded' \
  -H 'Accept: application/json' 
```

```python
import requests

url = "{{API Url}}/runmap?token={{Token}}&mapKey={{mapKey}}"
headers = {
  'Content-Type': 'application/x-www-form-urlencoded',
  'Accept': 'application/json'
}

response = requests.request("POST", url, headers=headers)

print(response.text.encode('utf8'))
```

> The above command returns JSON structured like this:

```json
{
    "ErrorCount": 1,
    "Errors": "",
    "MapDescription": "Import of Purchase Journal",
    "MapKey": "364fde19-0748-4d10-886f-a95300a506c5",
    "MapId": "EXCEL TO BUSINESS CENTRAL PURCHASE JOURNAL",
    "RecordCount": 1,
    "RunNumber": 80,
    "Status": 1,
    "ErrorMessage": "Document was not sent due to document errors."
```

> The errors field will contain an XML Data Table:

```xml
<NewDataSet>\r\n  
    <xs:schema id=\"NewDataSet\"
        xmlns=\"\"
        xmlns:xs=\"http://www.w3.org/2001/XMLSchema\"
        xmlns:msdata=\"urn:schemas-microsoft-com:xml-msdata\">\r\n    
        <xs:element name=\"NewDataSet\" msdata:IsDataSet=\"true\" msdata:MainDataTable=\"ErrorTable\" msdata:UseCurrentLocale=\"true\">\r\n      
            <xs:complexType>\r\n        
                <xs:choice minOccurs=\"0\" maxOccurs=\"unbounded\">\r\n          
                    <xs:element name=\"ErrorTable\">\r\n            
                        <xs:complexType>\r\n              
                            <xs:sequence>\r\n                
                                <xs:element name=\"accountnumber\" type=\"xs:string\" minOccurs=\"0\" />\r\n                
                                <xs:element name=\"CustomerID\" type=\"xs:string\" minOccurs=\"0\" />\r\n                
                                <xs:element name=\"name\" type=\"xs:string\" minOccurs=\"0\" />\r\n                
                                <xs:element name=\"EONERUNERRORS\" type=\"xs:string\" minOccurs=\"0\" />\r\n              
                            </xs:sequence>\r\n            
                        </xs:complexType>\r\n          
                    </xs:element>\r\n        
                </xs:choice>\r\n      
            </xs:complexType>\r\n    
        </xs:element>\r\n  
    </xs:schema>\r\n  
    <ErrorTable>\r\n    
        <accountnumber>C0008</accountnumber>\r\n    
        <CustomerID>IDs</CustomerID>\r\n    
        <name>Test Account 008</name>\r\n    
        <EONERUNERRORS>Document was not sent due to document errors.</EONERUNERRORS>\r\n  
    </ErrorTable>\r\n
    <ErrorTable>\r\n    
        <accountnumber>C0007</accountnumber>\r\n    
        <CustomerID>IDs</CustomerID>\r\n    
        <name>Test Account 007</name>\r\n    
        <EONERUNERRORS>Document was not sent due to document errors.</EONERUNERRORS>\r\n  
    </ErrorTable>\r\n
</NewDataSet>
```

This endpoint runs the specified process.

### HTTP Request

`POST {{API Url}}/runmap?token={{Token}}&mapKey={{mapKey}}`

### Query Parameters

Parameter | Required | Description
--------- | ------- | -----------
token | true | Token generated by the GetToken endpoint
mapKey | true | Unique identifier for the process to retrieve


<aside class="warning">Currently this endpoint only returns the errors as an XML data table</aside>

## RunMapWithVariables

> To run a specified process and provide Global Variables, use this code:

```shell
curl POST "{{API Url}}/RunMapWithVariables?token={{Token}}&mapKey={{mapKey}}" \
  -H 'Content-Type: application/json' \
  -H 'Accept: application/json' 
  -d '[
       {
         "Key": "GBL_TEST",
         "Value": "107210"
        },
      {
         "Key": "GBL_TEST2",
         "Value": "Sample"
       }
     ]'
```

```python
import requests

url = "{{API Url}}/RunMapWithVariables?token={{Token}}&mapKey={{mapKey}}"
headers = {
  'Content-Type': 'application/json',
  'Accept': 'application/json'
}
payload = 
[
    {
        "Key": "GBL_TEST",
        "Value": "107210"
    },
    {
        "Key": "GBL_TEST2",
        "Value": "Sample"
    }
]

response = requests.request("POST", url, headers=headers, data = payload)

print(response.text.encode('utf8'))
```

> The above command returns JSON structured like this:

```json
{
    "ErrorCount": 1,
    "Errors": "",
    "MapDescription": "Import of Purchase Journal",
    "MapKey": "364fde19-0748-4d10-886f-a95300a506c5",
    "MapId": "EXCEL TO BUSINESS CENTRAL PURCHASE JOURNAL",
    "RecordCount": 1,
    "RunNumber": 80,
    "Status": 1,
    "ErrorMessage": "Document was not sent due to document errors."
```

> The errors field will contain an XML Data Table:

```xml
<NewDataSet>\r\n  
    <xs:schema id=\"NewDataSet\"
        xmlns=\"\"
        xmlns:xs=\"http://www.w3.org/2001/XMLSchema\"
        xmlns:msdata=\"urn:schemas-microsoft-com:xml-msdata\">\r\n    
        <xs:element name=\"NewDataSet\" msdata:IsDataSet=\"true\" msdata:MainDataTable=\"ErrorTable\" msdata:UseCurrentLocale=\"true\">\r\n      
            <xs:complexType>\r\n        
                <xs:choice minOccurs=\"0\" maxOccurs=\"unbounded\">\r\n          
                    <xs:element name=\"ErrorTable\">\r\n            
                        <xs:complexType>\r\n              
                            <xs:sequence>\r\n                
                                <xs:element name=\"accountnumber\" type=\"xs:string\" minOccurs=\"0\" />\r\n                
                                <xs:element name=\"CustomerID\" type=\"xs:string\" minOccurs=\"0\" />\r\n                
                                <xs:element name=\"name\" type=\"xs:string\" minOccurs=\"0\" />\r\n                
                                <xs:element name=\"EONERUNERRORS\" type=\"xs:string\" minOccurs=\"0\" />\r\n              
                            </xs:sequence>\r\n            
                        </xs:complexType>\r\n          
                    </xs:element>\r\n        
                </xs:choice>\r\n      
            </xs:complexType>\r\n    
        </xs:element>\r\n  
    </xs:schema>\r\n  
    <ErrorTable>\r\n    
        <accountnumber>C0008</accountnumber>\r\n    
        <CustomerID>IDs</CustomerID>\r\n    
        <name>Test Account 008</name>\r\n    
        <EONERUNERRORS>Document was not sent due to document errors.</EONERUNERRORS>\r\n  
    </ErrorTable>\r\n
    <ErrorTable>\r\n    
        <accountnumber>C0007</accountnumber>\r\n    
        <CustomerID>IDs</CustomerID>\r\n    
        <name>Test Account 007</name>\r\n    
        <EONERUNERRORS>Document was not sent due to document errors.</EONERUNERRORS>\r\n  
    </ErrorTable>\r\n
</NewDataSet>
```

This endpoint runs the specified process. If the process is using Global Variables, then the default value for those variables can be provided in the body of the request.

### HTTP Request

`POST {{API Url}}/RunMapWithVariables?token={{Token}}&mapKey={{mapKey}}`

### Query Parameters

Parameter | Required | Description
--------- | ------- | -----------
token | true | Token generated by the GetToken endpoint
mapKey | true | Unique identifier for the process to retrieve


<aside class="warning">Currently this endpoint only returns the errors as an XML data table</aside>

## RunMapDataTable

> To run a specified process with provided source data, use this code:

```shell
curl POST "{{API Url}}/RunMapDataTable?token={{Token}}&mapKey={{mapKey}}" \
  -H 'Content-Type: text/xml' \
  -H 'Accept: application/json' 
  -d '<RequestData>
        <Table> 
          <accountnumber>C0007</accountnumber> 
          <CustomerID>IDs</CustomerID> 
          <name>Test Account 007</name> 
        </Table> 
      </RequestData>'
```

```python
import requests

url = "{{API Url}}/RunMapDataTable?token={{Token}}&mapKey={{mapKey}}"
headers = {
  'Content-Type': 'text/xml',
  'Accept': 'application/json'
}
payload = 
" <RequestData>
    <Table> 
      <accountnumber>C0007</accountnumber> 
      <CustomerID>IDs</CustomerID> 
      <name>Test Account 007</name> 
    </Table> 
  </RequestData>
"

response = requests.request("POST", url, headers=headers, data = payload)

print(response.text.encode('utf8'))
```

> The above command returns JSON structured like this:

```json
{
    "ErrorCount": 1,
    "Errors": "",
    "MapDescription": "Import of Purchase Journal",
    "MapKey": "364fde19-0748-4d10-886f-a95300a506c5",
    "MapId": "EXCEL TO BUSINESS CENTRAL PURCHASE JOURNAL",
    "RecordCount": 1,
    "RunNumber": 80,
    "Status": 1,
    "ErrorMessage": "Document was not sent due to document errors."
```

This endpoint runs the specified process with the provided XML data table.

### HTTP Request

`POST {{API Url}}/RunMapDataTable?token={{Token}}&mapKey={{mapKey}}`

### Query Parameters

Parameter | Required | Description
--------- | ------- | -----------
token | true | Token generated by the GetToken endpoint
mapKey | true | Unique identifier for the process to retrieve


<aside class="warning">Currently this endpoint only returns the errors as an XML data table</aside>

## RunMapDataTableWithErrors

> To run a specified process with provided source data, use this code:

```shell
curl POST "{{API Url}}/RunMapDataTableWithErrors?token={{Token}}&mapKey={{mapKey}}" \
  -H 'Content-Type: text/xml' \
  -H 'Accept: application/json' 
  -d '<RequestData>
        <Table> 
          <accountnumber>C0007</accountnumber> 
          <CustomerID>IDs</CustomerID> 
          <name>Test Account 007</name> 
        </Table> 
      </RequestData>'
```

```python
import requests

url = "{{API Url}}/RunMapDataTableWithErrors?token={{Token}}&mapKey={{mapKey}}"
headers = {
  'Content-Type': 'text/xml',
  'Accept': 'application/json'
}
payload = 
" <RequestData>
    <Table> 
      <accountnumber>C0007</accountnumber> 
      <CustomerID>IDs</CustomerID> 
      <name>Test Account 007</name> 
    </Table> 
  </RequestData>
"

response = requests.request("POST", url, headers=headers, data = payload)

print(response.text.encode('utf8'))
```

> The above command returns JSON structured like this:

```json
{
    "ErrorCount": 1,
    "Errors": "",
    "MapDescription": "Import of Purchase Journal",
    "MapKey": "364fde19-0748-4d10-886f-a95300a506c5",
    "MapId": "EXCEL TO BUSINESS CENTRAL PURCHASE JOURNAL",
    "RecordCount": 1,
    "RunNumber": 80,
    "Status": 1,
    "ErrorMessage": "Document was not sent due to document errors."
```

> The errors field will contain an XML Data Table:

```xml
<NewDataSet>\r\n  
    <xs:schema id=\"NewDataSet\"
        xmlns=\"\"
        xmlns:xs=\"http://www.w3.org/2001/XMLSchema\"
        xmlns:msdata=\"urn:schemas-microsoft-com:xml-msdata\">\r\n    
        <xs:element name=\"NewDataSet\" msdata:IsDataSet=\"true\" msdata:MainDataTable=\"ErrorTable\" msdata:UseCurrentLocale=\"true\">\r\n      
            <xs:complexType>\r\n        
                <xs:choice minOccurs=\"0\" maxOccurs=\"unbounded\">\r\n          
                    <xs:element name=\"ErrorTable\">\r\n            
                        <xs:complexType>\r\n              
                            <xs:sequence>\r\n                
                                <xs:element name=\"accountnumber\" type=\"xs:string\" minOccurs=\"0\" />\r\n                
                                <xs:element name=\"CustomerID\" type=\"xs:string\" minOccurs=\"0\" />\r\n                
                                <xs:element name=\"name\" type=\"xs:string\" minOccurs=\"0\" />\r\n                
                                <xs:element name=\"EONERUNERRORS\" type=\"xs:string\" minOccurs=\"0\" />\r\n              
                            </xs:sequence>\r\n            
                        </xs:complexType>\r\n          
                    </xs:element>\r\n        
                </xs:choice>\r\n      
            </xs:complexType>\r\n    
        </xs:element>\r\n  
    </xs:schema>\r\n  
    <ErrorTable>\r\n    
        <accountnumber>C0008</accountnumber>\r\n    
        <CustomerID>IDs</CustomerID>\r\n    
        <name>Test Account 008</name>\r\n    
        <EONERUNERRORS>Document was not sent due to document errors.</EONERUNERRORS>\r\n  
    </ErrorTable>\r\n
    <ErrorTable>\r\n    
        <accountnumber>C0007</accountnumber>\r\n    
        <CustomerID>IDs</CustomerID>\r\n    
        <name>Test Account 007</name>\r\n    
        <EONERUNERRORS>Document was not sent due to document errors.</EONERUNERRORS>\r\n  
    </ErrorTable>\r\n
</NewDataSet>
```

This endpoint runs the specified process with the provided XML data table, and returns error messages.

### HTTP Request

`POST {{API Url}}/RunMapDataTableWithErrors?token={{Token}}&mapKey={{mapKey}}`

### Query Parameters

Parameter | Required | Description
--------- | ------- | -----------
token | true | Token generated by the GetToken endpoint
mapKey | true | Unique identifier for the process to retrieve


<aside class="warning">Currently this endpoint only returns the errors as an XML data table</aside>

## RunMapXml

> To run a specified process and provide Global Variables, use this code:

```shell
curl POST "{{API Url}}/RunMapXml?token={{Token}}&mapKey={{mapKey}}" \
  -H 'Content-Type: text/xml' \
  -H 'Accept: application/json' 
  -d '<RequestData xmlns:i="http://www.w3.org/2001/XMLSchema-instance">
	      <Variables/>
	      <Xml>&lt;DataSet&gt;&#xD;
		      &lt;Table&gt;&#xD;
		        &lt;accountnumber&gt;C00070&lt;/accountnumber&gt;&#xD;
        	  &lt;name&gt;Test Account 001&lt;/name&gt;&#xD;
		      &lt;/Table&gt;&#xD;
		    &lt;/DataSet&gt;
	      </Xml>
      </RequestData>'
```

```python
import requests

url = "{{API Url}}/RunMapXml?token={{Token}}&mapKey={{mapKey}}"
headers = {
  'Content-Type': 'text/xml',
  'Accept': 'application/json'
}
payload = 
" <RequestData xmlns:i="http://www.w3.org/2001/XMLSchema-instance">
	  <Variables/>
	  <Xml>&lt;DataSet&gt;&#xD;
		  &lt;Table&gt;&#xD;
		    &lt;accountnumber&gt;C00070&lt;/accountnumber&gt;&#xD;
    	  &lt;name&gt;Test Account 001&lt;/name&gt;&#xD;
		  &lt;/Table&gt;&#xD;
		&lt;/DataSet&gt;
	  </Xml>
  </RequestData>
"

response = requests.request("POST", url, headers=headers, data = payload)

print(response.text.encode('utf8'))
```

> The above command returns JSON structured like this:

```json
{
    "ErrorCount": 1,
    "Errors": "",
    "MapDescription": "Import of Purchase Journal",
    "MapKey": "364fde19-0748-4d10-886f-a95300a506c5",
    "MapId": "EXCEL TO BUSINESS CENTRAL PURCHASE JOURNAL",
    "RecordCount": 1,
    "RunNumber": 80,
    "Status": 1,
    "ErrorMessage": "Document was not sent due to document errors."
```

> The errors field will contain an XML Data Table:

```xml
<NewDataSet>\r\n  
    <xs:schema id=\"NewDataSet\"
        xmlns=\"\"
        xmlns:xs=\"http://www.w3.org/2001/XMLSchema\"
        xmlns:msdata=\"urn:schemas-microsoft-com:xml-msdata\">\r\n    
        <xs:element name=\"NewDataSet\" msdata:IsDataSet=\"true\" msdata:MainDataTable=\"ErrorTable\" msdata:UseCurrentLocale=\"true\">\r\n      
            <xs:complexType>\r\n        
                <xs:choice minOccurs=\"0\" maxOccurs=\"unbounded\">\r\n          
                    <xs:element name=\"ErrorTable\">\r\n            
                        <xs:complexType>\r\n              
                            <xs:sequence>\r\n                
                                <xs:element name=\"accountnumber\" type=\"xs:string\" minOccurs=\"0\" />\r\n                
                                <xs:element name=\"CustomerID\" type=\"xs:string\" minOccurs=\"0\" />\r\n                
                                <xs:element name=\"name\" type=\"xs:string\" minOccurs=\"0\" />\r\n                
                                <xs:element name=\"EONERUNERRORS\" type=\"xs:string\" minOccurs=\"0\" />\r\n              
                            </xs:sequence>\r\n            
                        </xs:complexType>\r\n          
                    </xs:element>\r\n        
                </xs:choice>\r\n      
            </xs:complexType>\r\n    
        </xs:element>\r\n  
    </xs:schema>\r\n  
    <ErrorTable>\r\n    
        <accountnumber>C0008</accountnumber>\r\n    
        <CustomerID>IDs</CustomerID>\r\n    
        <name>Test Account 008</name>\r\n    
        <EONERUNERRORS>Document was not sent due to document errors.</EONERUNERRORS>\r\n  
    </ErrorTable>\r\n
    <ErrorTable>\r\n    
        <accountnumber>C0007</accountnumber>\r\n    
        <CustomerID>IDs</CustomerID>\r\n    
        <name>Test Account 007</name>\r\n    
        <EONERUNERRORS>Document was not sent due to document errors.</EONERUNERRORS>\r\n  
    </ErrorTable>\r\n
</NewDataSet>
```

This endpoint runs the specified process with the provided XML encoded data table, and returns error messages.

### HTTP Request

`POST {{API Url}}/RunMapXml?token={{Token}}&mapKey={{mapKey}}`

### Query Parameters

Parameter | Required | Description
--------- | ------- | -----------
token | true | Token generated by the GetToken endpoint
mapKey | true | Unique identifier for the process to retrieve


<aside class="warning">Currently this endpoint only returns the errors as an XML data table</aside>